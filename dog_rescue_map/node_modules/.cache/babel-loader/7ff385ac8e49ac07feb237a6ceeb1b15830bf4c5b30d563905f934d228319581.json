{"ast":null,"code":"export default {\n  data() {\n    return {\n      zip: '',\n      dogs: []\n    };\n  },\n  methods: {\n    async search() {\n      try {\n        const tokenResponse = await fetch('https://api.petfinder.com/v2/oauth2/token', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            grant_type: 'client_credentials',\n            client_id: 'mvgH7i4YnXRURzq2tTH8wTkGD7t8RWiChFJ3eWCcCBy632SzId',\n            client_secret: 'f7tStA6eC14xrRree1ZMMZyFjhyVfI2v0SPJYLZO'\n          })\n        });\n        const {\n          access_token\n        } = await tokenResponse.json();\n        const res = await fetch(`https://api.petfinder.com/v2/animals?type=dog&location=${this.zip}&output=basic&format=json&limit=75`, {\n          headers: {\n            Authorization: `Bearer ${access_token}`\n          }\n        });\n        const data = await res.json();\n        console.log(data);\n        this.dogs = data.animals.filter(animal => animal.photos && animal.photos.length > 0).filter(animal => !animal.name.includes(\"HOLD\")).map(animal => ({\n          id: animal.id,\n          name: animal.name,\n          breed: animal.breeds.primary,\n          description: animal.description,\n          photo: animal.photos && animal.photos.length > 0 ? animal.photos[0].small : null\n        }));\n      } catch (error) {\n        console.error('Error: Could not access database', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","zip","dogs","methods","search","tokenResponse","fetch","method","headers","body","JSON","stringify","grant_type","client_id","client_secret","access_token","json","res","Authorization","console","log","animals","filter","animal","photos","length","name","includes","map","id","breed","breeds","primary","description","photo","small","error"],"sources":["C:\\Users\\james\\Side_Projects\\DogProject\\DogRescueMap\\dog_rescue_map\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n\r\n    <div>\r\n        <h1 id=\"home-header\">Find an Adoptable Dog Near You</h1>\r\n        <form @submit.prevent=\"search\">\r\n            <input id=\"text-box\" v-model=\"zip\" placeholder=\"Please Enter Your Zip Code\" />\r\n            <input type=\"Submit\" id=\"Submit\">\r\n        </form>\r\n\r\n        <ul>\r\n            <div v-for=\"dog in dogs\" :key=\"dog.id\">\r\n                <h2>{{ dog.name }}</h2>\r\n                <h3>{{ dog.breed }}</h3>\r\n                <p>{{ dog.description }}</p>\r\n                <img :id=\"'dog-image-' + dog.id\" :src=\"dog.photo\">\r\n            </div>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                zip: '',\r\n                dogs: [],\r\n            }\r\n        },\r\n\r\n        methods: {\r\n           async search() {\r\n\r\n            try {\r\n                const tokenResponse = await fetch('https://api.petfinder.com/v2/oauth2/token', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                        grant_type: 'client_credentials',\r\n                        client_id: 'mvgH7i4YnXRURzq2tTH8wTkGD7t8RWiChFJ3eWCcCBy632SzId',\r\n                        client_secret: 'f7tStA6eC14xrRree1ZMMZyFjhyVfI2v0SPJYLZO',\r\n\r\n                    }),\r\n                });\r\n                const { access_token } = await tokenResponse.json();\r\n\r\n\r\n                const res = await fetch(`https://api.petfinder.com/v2/animals?type=dog&location=${this.zip}&output=basic&format=json&limit=75`, {\r\n                    headers: {\r\n                        Authorization: `Bearer ${access_token}`,\r\n                    },\r\n                });\r\n                const data = await res.json();\r\n                console.log(data);\r\n\r\n                this.dogs = data.animals\r\n                \r\n                .filter(animal => animal.photos && animal.photos.length > 0)\r\n                .filter(animal => !animal.name.includes(\"HOLD\"))\r\n                \r\n                .map(animal => ({\r\n                    id: animal.id,\r\n                    name: animal.name,\r\n                    breed: animal.breeds.primary,\r\n                    description: animal.description,\r\n                    photo: animal.photos && animal.photos.length > 0 ? animal.photos[0].small : null,\r\n\r\n                }))\r\n            }catch (error) {\r\n                console.error('Error: Could not access database', error);\r\n            }\r\n              \r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n\r\n#home-header {\r\n    font-size: 2rem;\r\n    text-shadow: 2px 2px 5px black;\r\n}\r\n\r\n#text-box {\r\n    height: 30px;\r\n    width: 225px;\r\n    border-radius: 5px;\r\n    border: 2px solid black;\r\n    font-size: 1.3rem;\r\n}\r\n\r\nimg {\r\n    max-width: 250px;\r\n    min-width: 250px;\r\n}\r\n\r\n</style>\r\n\r\n"],"mappings":"AAuBI,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,GAAG,EAAE,EAAE;MACPC,IAAI,EAAE;IACV;EACJ,CAAC;EAEDC,OAAO,EAAE;IACN,MAAMC,MAAMA,CAAA,EAAG;MAEd,IAAI;QACA,MAAMC,aAAY,GAAI,MAAMC,KAAK,CAAC,2CAA2C,EAAE;UAC3EC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACL,cAAc,EAAE;UACpB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACjBC,UAAU,EAAE,oBAAoB;YAChCC,SAAS,EAAE,oDAAoD;YAC/DC,aAAa,EAAE;UAEnB,CAAC;QACL,CAAC,CAAC;QACF,MAAM;UAAEC;QAAa,IAAI,MAAMV,aAAa,CAACW,IAAI,CAAC,CAAC;QAGnD,MAAMC,GAAE,GAAI,MAAMX,KAAK,CAAE,0DAAyD,IAAI,CAACL,GAAI,oCAAmC,EAAE;UAC5HO,OAAO,EAAE;YACLU,aAAa,EAAG,UAASH,YAAa;UAC1C;QACJ,CAAC,CAAC;QACF,MAAMf,IAAG,GAAI,MAAMiB,GAAG,CAACD,IAAI,CAAC,CAAC;QAC7BG,OAAO,CAACC,GAAG,CAACpB,IAAI,CAAC;QAEjB,IAAI,CAACE,IAAG,GAAIF,IAAI,CAACqB,OAAM,CAEtBC,MAAM,CAACC,MAAK,IAAKA,MAAM,CAACC,MAAK,IAAKD,MAAM,CAACC,MAAM,CAACC,MAAK,GAAI,CAAC,EAC1DH,MAAM,CAACC,MAAK,IAAK,CAACA,MAAM,CAACG,IAAI,CAACC,QAAQ,CAAC,MAAM,CAAC,EAE9CC,GAAG,CAACL,MAAK,KAAM;UACZM,EAAE,EAAEN,MAAM,CAACM,EAAE;UACbH,IAAI,EAAEH,MAAM,CAACG,IAAI;UACjBI,KAAK,EAAEP,MAAM,CAACQ,MAAM,CAACC,OAAO;UAC5BC,WAAW,EAAEV,MAAM,CAACU,WAAW;UAC/BC,KAAK,EAAEX,MAAM,CAACC,MAAK,IAAKD,MAAM,CAACC,MAAM,CAACC,MAAK,GAAI,IAAIF,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACW,KAAI,GAAI;QAEhF,CAAC,CAAC;MACN,CAAC,QAAOC,KAAK,EAAE;QACXjB,OAAO,CAACiB,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC5D;IAEJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}